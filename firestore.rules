rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    
    // Orders - full access for sagra environment
    match /orders/{orderId} {
      allow read, write: if true;
    }
    
    // Menu items - read for all, write for authenticated users only
    match /menu/{menuId} {
      allow read: if true;
      allow write: if request.auth != null || true; // Allow all for now
    }
    
    // Preparation lines - read for all, write for authenticated users only  
    match /lines/{lineId} {
      allow read: if true;
      allow write: if request.auth != null || true; // Allow all for now
    }
    
    // Configuration - read for all, write for authenticated users only
    match /config/{configId} {
      allow read: if true;
      allow write: if request.auth != null || true; // Allow all for now
    }
    
    // Print Stations - full access for print system
    match /printStations/{stationId} {
      allow read, write: if true;
    }
    
    // Print Jobs - full access for print system
    match /printJobs/{jobId} {
      allow read, write: if true;
    }
    
    // Default deny all other collections
    match /{document=**} {
      allow read, write: if false;
    }
  }
}